<div class="wrapper">
  <app-navbar></app-navbar>
  <div class="card m-1">
    <div class="card-header">
      <h5 style="text-align: center;">Guia De Remisión - Transportista</h5>
    </div>
    <div class="card-body flex">
      <div class="col-12 col-md-4 col-lg-4 col-sm-6">
        <div class="row">
          <div class="col-md-5"><label>TRANSPORTISTA <b style="color: red;">(*)</b></label></div>
          <div class="col-md-7"><div class="input-group mb-1">
              <input type="text" class="form-control" readonly placeholder="Seleccione un transportista"
                [(ngModel)]="transportista.razonsocialtransportista">
              <div class="input-group-append">
                <button class="input-group-text"
                  (click)="abrirModal(Transportista)">...</button>
              </div>
            </div></div>
        </div>
      </div>
      <div class="col-md-4 col-lg-4 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-6"><label class="w-100 center">FECHA EMISION<b
                style="color: red;">(*)</b></label></div>
          <div class="col-md-6"><input type="datetime-local"
              [(ngModel)]="fecha_emision" name="fecha_emision"
              class="form-control"></div>
        </div>
      </div>
      <div class="col-md-4 col-lg-4 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-6">
            <label class="w-100 center">TRASLADO<b style="color: red;">(*)</b></label>
          </div>
          <div class="col-md-6">
            <input type="date" [(ngModel)]="fecha_traslado" class="form-control">
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-5 col-sm-12 col-12"><label class="w-100">SERIE DE GUIA <b
                style="color: red;">(*)</b></label></div>
          <div class="col-md-7 col-sm-12 col-12">
            <div class="input-group mb-1">
              <select class="form-select" [(ngModel)]="serieNumero">
                <option value>Seleccione una serie</option>
                <option value="{{item.serie}}" *ngFor="let item of arraySerie">{{item.serie}}</option>
              </select>
              <div class="input-group-append">
                <button class="input-group-text" (click)="listarSerie(Serie)">...</button>
              </div>
            </div></div>
        </div>
      </div>
      <div class="col-md-6 col-lg-8 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-3 col-sm-12 col-12"><label class="w-100 center">REMITENTE <b style="color: red;">(*)</b></label></div>
          <div class="col-md-9 col-sm-12 col-12"><div class="input-group mb-1">
            <input type="text" class="form-control" readonly placeholder="Seleccione un remitente"
                [(ngModel)]="remitente.razonsocialemisor">
            <div class="input-group-append">
              <button class="input-group-text" (click)="listarEmpresas(Empresa)">...</button>
            </div>
          </div></div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-5"><label class="w-100 ">PESO BRUTO <b
                style="color: red;">(*)</b></label></div>
          <div class="col-md-7">
            <div class="input-group mb-1">
              <input type="text" class="form-control" placeholder="Ingrese el peso total de los items"
                (keypress)="validarDecimal($event)" [(ngModel)]="pesoBruto">
              <div class="input-group-append bd-highlight">
                <select class="form-select "
                  aria-label=".form-select-sm example" [(ngModel)]="medida">
                  <option value="{{item.id}}" *ngFor="let item of medidas">{{item.text}}</option>
                </select></div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-8 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-3"><label class="w-100 center">PTO PARTIDA <b style="color: red;">(*)</b></label></div>
          <div class="col-md-9"><div class="input-group mb-1 w-100">
            <input type="text" class="form-control" placeholder="Seleccione un punto de partida" readonly [(ngModel)]="origen.direccionorigen">
              <div class="input-group-append">
                <button class="input-group-text" (click)="listarOrigen(Origen)">...</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-6 col-lg-5">
            <label class="w-100">NRO BULTOS</label>
          </div>
          <div class="col-md-6 col-lg-7">
            <input type="text" class="form-control" placeholder="Ingrese el número de bultos"
              (keypress)="validarNumero($event)" [(ngModel)]="Nrobultos">
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-8 col-sm-6 col-12">
        <div class="row">
          <div class="col-md-6 col-lg-3"><label class="w-100 center">DESTINATARIO
              <b style="color: red;">(*)</b></label></div>
          <div class="col-md-6 col-lg-9"><div class="input-group">
              <input type="text" class="form-control" readonly placeholder="Seleccione un destinatario"
                name="destinatario" [(ngModel)]="destinatario.razonsocialadquiriente">
              <div class="input-group-append">
                <button class="input-group-text" (click)="abrirModal(Destinatario);getDestinatarios();">...</button>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="col-md-6 col-lg-4 col-sm-6 mt-1 mb-1 col-12">
        <div class="row">
          <div class="col-md-6 col-lg-5">
            <label class="w-100">OBSERVACIONES</label></div>
          <div class="col-md-6 col-lg-7">
            <input type="text" class="form-control" placeholder="Campo Opcional"
              [(ngModel)]="observaciones">
          </div>
        </div>
      </div>

      <div class="col-lg-8 col-12">
        <div class="row">
          <div class="col-md-6 col-lg-3"><label class="w-100 center">PTO LLEGADA
              <b style="color: red;">(*)</b></label></div>
          <div class="col-md-6 col-lg-9">
            <div class="input-group mb-1 w-100">
            <input type="text" class="form-control" readonly placeholder="Seleccione un punto de llegada"
            [(ngModel)]="destino.direcciondestino">
            <div class="input-group-append">
              <button class="input-group-text" (click)="listarOrigen(Destino)">...</button>
            </div>
          </div>
          </div>
        </div>
      </div>
      <div class="row col-12" id="principalslot">
      <div class="col-md-8 col-lg-10 col-sm-8" >
        <div class="table-responsive scroll-color"
          style="flex: 65%;height:200px">
          <table class="table table-sm">
            <thead class="table-light">
              <tr>
                <th scope="col" style="width: 120px;">Guias</th>
                <th scope="col">N° Doc Emisor</th>
                <th scope="col">Fecha Emisión</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of arrayGuiasImportadasCabecera; let i = index">
                <td>{{item.serieNumeroGuia}}</td>
                <td>{{item.numeroDocumentoRemitente}}</td>
                <td>{{item.fechaEmision}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
          <div class="col-lg-2 col-md-4 col-sm-4" id="botonesdeacceso">
            <div class="col-12">
              <button class="btn btn-light mb-1 w-100 "
              style="height: 80px;" (click)="abrirModalEvitarCerrar(referenciados);importarGuias()">Importar GRE</button>
            </div>
            <div class="col-12">
              <button class="btn btn-light mb-1 w-100"
              style="height: 80px;" (click)="abrirModal(Opcionales)">Campos Adicionales</button>
            </div>
            <div class="col-12 mt-3">
              <button class="btn btn-primary mb-1 w-100 " style="height: 80px;" (click)="declararGuia()"
              >Declarar</button>
          </div>
        </div>
      </div>
      <div class="row col-12" id="secondarslot">
      <div class="col-md-8 col-lg-12 col-sm-6">
        <div class="table-responsive " style="flex: 65%;height:200px">
          <table class="table table-sm">
            <thead class="table-light">
              <tr>
                <th scope="col" style="width: 120px;">Codigo</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Unidad Medida</th>
                <th scope="col" style="width: 400px;">Descripcion</th>
                <th scope="col">opt</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input class="form-control" [(ngModel)]="codigoProd" type="text"></td>
                <td><input class="form-control" [(ngModel)]="cantidadProd" type="text"></td>
                <td><input class="form-control" [(ngModel)]="medidaProd" type="text"></td>
                <td><input class="form-control" [(ngModel)]="descripcionProd" type="text"></td>
                <td>

                  <i class="fas fa-plus-circle" (click)="asignarProducto()" style="color: rgb(0, 125, 250);cursor: pointer;font-size: 32px;"></i>
                </td>
              </tr>
              <tr *ngFor="let item of listadoProductoDetalles| paginate: {id:'product', itemsPerPage: 10, currentPage: pageProduct } ;  let i = index">
                <td>{{item.codigo}}</td>
                <td>{{item.cantidad}}</td>
                <td>{{item.unidadmedida}}</td>
                <td>{{item.descripcion}}</td>
                <td><i class="fa-solid fa-trash"
                    style="color: red;cursor: pointer;"
                    (click)="borrarListadoProductoDetalles(item.codigo,item.descripcion,item.cantidad,item.unidadmedida)"></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="text-align: center;"><pagination-controls id="product"
          (pageChange)="pageProduct = $event"></pagination-controls></div>
      </div>
    </div>
    </div>
  </div>
  <ng-template #Empaque>
    <div class="card">
      <div class="card-header">
        <h5>EMPAQUE</h5>
      </div>
      <div class="card-body" style="min-height: 200px;">
        <div class="row mb-2">
          <div class="col-4">
            <label>Desde:</label>
            <input type="datetime-local" [(ngModel)]="desde"
              class="form-control">
          </div>
          <div class="col-4">
            <label>Hasta:</label>
            <input type="datetime-local" [(ngModel)]="hasta"
              class="form-control">
          </div>
          <div class="col-4">
            <label>Filtrar:</label>
            <div class="input-group">
              <input type="text" [(ngModel)]="filtroGuia" class="form-control">
              <div class="input-group-append">
                <button class="input-group-text"><i class="fas fa-search"
                    style="height: 23px;"></i></button>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive" style="max-height: 400px;">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>EMPAQUE</th>
                <th scope="col">DETALLES</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of guias | filter: filtroGuia:['serie']| paginate:{id:'pguia', itemsPerPage: 8, currentPage: pageGuia }">
                <td style="width: 100px;">
                  <span class="badge rounded-pill bg-light text-dark">Cod:
                    {{item.codigoEmpaque}}</span>
                  <br>
                  <span class="badge rounded-pill bg-light text-dark">O/Compra:
                    {{item.ordenCompra}}</span>
                  <br>
                  <span class="badge rounded-pill bg-light text-dark">fecha:
                    {{item.fechaCreacion|date:'dd/MM/yyyy'}}</span>
                  <br>
                  <span class="badge rounded-pill bg-light text-dark">Cliente:
                    {{item.numeroDocumentoAdquiriente}}</span>
                </td>
                <td><div style="display: flex; flex-wrap: wrap;">
                    <div *ngFor="let p of [1,2,3]">
                      <div>

                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="text-align: center;"><pagination-controls id="pguia"
            (pageChange)="pageGuia= $event"></pagination-controls></div>
        <div style="display:flex;justify-content: flex-end; text-align: right;">
          <button class="btn btn-danger" (click)="cerrarModal()" style="width:
            100px;">Salir</button>
          <button class="btn btn-primary"
            style="width: 100px;margin-left: 10px;">Asignar</button>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #referenciados>
    <div class="card" >
      <div class="card-header">
        <div style="display: flex; flex-wrap: wrap;justify-content: center;">
          <div>
            <h5>GUIAS DE REMISIÓN&nbsp;&nbsp;</h5>
          </div>
          <!--     <div>
            <button class="input-group-text" (click)="abrirModal(CrudRef)">+</button>
          </div> -->
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover" style="width: 100%;">
            <thead>
              <tr>
                <th scope="col">Serie</th>
                <th scope="col">N° Documento</th>
                <th scope="col">Motivo</th>
                <th scope="col">Fecha Emisión</th>
                <th>Opt</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of arrayGuiasImportadas">
                <td> {{item.serieNumeroGuia}}</td>
                <td> {{item.numeroDocumentoRemitente}}</td>
                <td> {{item.descripcionMotivo}}</td>
                <td> {{item.fechaEmision}}</td>
                <td style="align-items: center;">
                  <div class="form-check" (click)="asignarGuiaImportada(item)">
                    <input class="form-check-input" style="height: 25px;width: 25px;" type="checkbox" value="" [id]="item.serieNumeroGuia + item.numeroDocumentoRemitente">
                    <label class="form-check-label" for="flexCheckDefault">
                    </label>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="card-footer" style="text-align: right;">
        <button class="btn btn-danger" style="margin-right: 5px;width: 110px;" (click)="cerrarModalGuiasImportadas()">Salir</button>
          <button class="btn btn-primary" (click)="asignarGuiasImportadas()">Asignar Guias</button>
      </div>
    </div>
  </ng-template>
  <ng-template #Transportista>
    <div class="card">
      <div class="card-header">
        <div class="container">
          <h5>TRANSPORTISTA &nbsp; &nbsp;</h5>
        </div>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;" >TRANSPORTISTA</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text"
                [(ngModel)]="filterTransportista"
                name="filterTransportista" placeholder="Seleccione un transportista" class="form-control">
              <div class="input-group-append">
                <button class="btn btn-secondary"
                  (click)="abrirModal(CrudTransportista)">+</button>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">N° Doc</th>
                <th scope="col">Tipo Doc</th>
                <th scope="col">Razon social</th>
                <th scope="col">N° Registro MTC</th>
                <th scope="col" style="text-align: center;">Opt</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of transportistas|filter:filterTransportista:['numerodocumentotransportista','razonsocialtransportista']"
                style="cursor: pointer;">
                <th scope="row" (click)="asignarTransportista(item)">{{item.numerodocumentotransportista}}</th>
                <td (click)="asignarTransportista(item)">{{item.tipodocumentotransportista}}</td>
                <td (click)="asignarTransportista(item)">{{item.razonsocialtransportista}}</td>
                <td (click)="asignarTransportista(item)">{{item.numeroregistromtc}}</td>
                <td style="color: red;cursor: pointer;text-align: center;"
                  (click)="borrarTransportista(item.numerodocumentotransportista)"><i
                    class="fa-solid fa-trash"></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #CrudTransportista>
    <div class="card">
      <div class="card-header">
        <h5>Registrar Transportista</h5>
      </div>
      <div class="card-body">
        <form (ngSubmit)="crearTransportista(Transportista)"
          #Transportista="ngForm" id="transportista">
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a> N°
              Doc:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control" maxlength="11"
                [ngClass]="{'is-invalid': Transportista.submitted&&Transportista.controls['numerodocumentotransportista'].errors}"
                name="numerodocumentotransportista"
                placeholder="Ingrese el numero de documento" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a> Tipo
              Doc:</label>
            <div class="col-sm-9">
              <select ngModel [(ngModel)]="tipodocTrans" class="form-select"
                name="tipodocumentotransportista" required>
                <option value="1">DNI</option>
                <option value="4">CARNET DE EXTRANJERIA</option>
                <option value="6">RUC</option>
                <option value="7">PASAPORTE</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a> Razon
              Social:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': Transportista.submitted&&Transportista.controls['razonsocialtransportista'].errors}"
                name="razonsocialtransportista"
                placeholder="Ingrese la razón social" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;">N°
              Registro Mtc:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': Transportista.submitted&&Transportista.controls['numeroregistromtc'].errors}"
                name="numeroregistromtc"
                placeholder="Ingrese el N° registro Mtc">
            </div>
          </div>
        </form>
        <div class="row mt-2">
          <div style="text-align: right;">
            <button class="btn btn-danger"
              style="width: 80px;margin-right: 5px;" (click)='salir()'>Salir</button>
            <button class="btn btn-success" style="width: 90px;"
              form="transportista" type="submit">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #CrudOrigen>
    <div class="card">
      <div class="card-header">
        <h5>Crear Origen</h5>
      </div>
      <div class="card-body">
        <form (ngSubmit)="crearOrigen(origen)" #origen="ngForm" id="origen">
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a>
              N° Documento:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': origen.submitted&&origen.controls['numerodocumentoemisor'].errors}"
                name="numerodocumentoemisor" placeholder="Ingrese el documento"
                required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a>
              Ubigeo:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': origen.submitted&&origen.controls['ubigeoorigen'].errors}"
                name="ubigeoorigen"
                placeholder="Ingrese el codigo del local anexo" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a>
              Dirección:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': origen.submitted&&origen.controls['direccionorigen'].errors}"
                name="direccionorigen" placeholder="Ingrese la razón social"
                required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label"
              style="width: 160px;"><a style="color: red;">(*)</a>
              Local anexo:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': origen.submitted&&origen.controls['codigolocalanexo'].errors}"
                name="codigolocalanexo"
                placeholder="Ingrese el codigo local anexo" required>
            </div>
          </div>
        </form>
        <div class="row mt-2">
          <div style="text-align: right;">
            <button class="btn btn-danger"
              style="width: 80px;margin-right: 5px;" (click)='salir()'>Salir</button>
            <button class="btn btn-success" style="width: 90px;" form="origen"
              type="submit">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #Empresa>
    <div class="card">
      <div class="card-header">
        <div class="container">
          <h5>EMPRESA &nbsp; &nbsp;</h5>
          <button class="btn btn-secondary" (click)="abrirModal(CrudEmpresa)">+</button>
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">N° Doc Emisor</th>
                <th scope="col">Nombre</th>
                <th scope="col">Tipo Doc</th>
                <th scope="col">Razon social</th>
                <th scope="col">Ubigeo</th>
                <th scope="col">Dirección</th>
                <th scope="col">Distrito</th>
                <th scope="col">Provincia</th>
                <th scope="col">Razón Comercial</th>
                <th scope="col">Opt</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of tablaEmpresas">
                <th scope="row" (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.numerodocumentoemisor}}</th>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.nombreempresa}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.tipodocumentoemisor}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.razonsocialemisor}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.ubigeoemisor}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.direccionemisor}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.distritoemisor}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.provinciaemisor}}</td>
                <td (click)="asignarRemitente(item)" style="cursor: pointer;">{{item.razoncomercialemisor}}</td>
                <td style="text-align: center;cursor: pointer;" (click)="borrarEmpresa(item.numerodocumentoemisor);"><i
                    class="fa-solid fa-trash" style="font-size: 20px;color: rgb(255, 0, 0);"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #CrudEmpresa>
    <div class="card">
      <div class="card-header">
        <h5>Crear Empresa</h5>
      </div>
      <div class="card-body">
        <form (ngSubmit)="crearEmpresa(empresa)" #empresa="ngForm" id="empresa">
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              N° Documento:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['numerodocumentoemisor'].errors}"
                name="numerodocumentoemisor" placeholder="Ingrese el documento" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Nombre:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['nombreempresa'].errors}"
                name="nombreempresa" placeholder="Ingrese el nombre de la empresa" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> Tipo
              Doc:</label>
            <div class="col-sm-9">
              <select ngModel [(ngModel)]="tipodocEmp" class="form-select" name="tipodocumentoemisor" required>
                <option value="1">DNI</option>
                <option value="4">CARNET DE EXTRANJERIA</option>
                <option value="6">RUC</option>
                <option value="7">PASAPORTE</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Razón social:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['razonsocialemisor'].errors}"
                name="razonsocialemisor" placeholder="Ingrese la razón social" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Dirección:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['direccionemisor'].errors}"
                name="direccionemisor" placeholder="Ingrese la dirección" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Ubigeo:</label>
            <div class="col-sm-3">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['ubigeoemisor'].errors}" name="ubigeoemisor"
                placeholder="Ingrese el ubigeo" required>
            </div>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Distrito:</label>
            <div class="col-sm-3">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['distritoemisor'].errors}"
                name="distritoemisor" placeholder="Ingrese el distrito" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Provincia:</label>
            <div class="col-sm-3">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['provinciaemisor'].errors}"
                name="provinciaemisor" placeholder="Ingrese la provincia" required>
            </div>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Departamento:</label>
            <div class="col-sm-3">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['departamentoemisor'].errors}"
                name="departamentoemisor" placeholder="Ingrese el departamento" required>
            </div>
          </div>
          <div class="form-group row" hidden>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Pais:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control" [(ngModel)]="pais" readonly
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['paisemisor'].errors}" name="paisemisor"
                placeholder="Ingrese el pais" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Razón comercial:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid': empresa.submitted&&empresa.controls['razoncomercialemisor'].errors}"
                name="razoncomercialemisor" placeholder="Ingrese la razón comercial emisor" required>
            </div>
          </div>
        </form>
        <div class="row mt-2">
          <div style="text-align: right;">
            <button class="btn btn-danger" style="width: 80px;margin-right: 5px;" (click)='salir()'>Salir</button>
            <button class="btn btn-success" style="width: 90px;" form="empresa" type="submit">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #Serie>
    <div class="card">
      <div class="card-header">
        <div class="container">
          <h5>SERIE &nbsp; &nbsp;</h5>
          <button class="btn btn-secondary" (click)="abrirModal(CrudSerie)">+</button>
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">N° Doc Emisor</th>
                <th scope="col">Tipo Doc</th>
                <th scope="col">Descripción</th>
                <th scope="col">Serie</th>
                <th scope="col">Correlativo</th>
                <th scope="col">Opt</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of tablaSeries">
                <th scope="row">{{item.numerodocumentoemisor}}</th>
                <td>{{item.tipodocumento}}</td>
                <td>{{item.descripcion}}</td>
                <td>{{item.serie}}</td>
                <td>{{item.correlativo}}</td>
                <td style="text-align: center;cursor: pointer;"
                  (click)="borrarSerie(item.numerodocumentoemisor,item.serie)"><i
                    class="fa-solid fa-trash"
                    style="font-size: 20px;color: rgb(255, 0, 0);"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #CrudSerie>
    <div class="card">
      <div class="card-header">
        <h5>Crear Serie</h5>
      </div>
      <div class="card-body">
        <form (ngSubmit)="crearSerie(empresa)" #empresa="ngForm" id="empresa">
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width:
              160px;"><a style="color: red;">(*)</a>
              N° Documento:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid':
                empresa.submitted&&empresa.controls['NUMERODOCUMENTOEMISOR'].errors}"
                name="NUMERODOCUMENTOEMISOR" placeholder="Ingrese el documento"
                required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width:
              160px;"><a style="color: red;">(*)</a> Tipo
              Doc:</label>
            <div class="col-sm-9">
              <select ngModel [(ngModel)]="tipodocEmp" class="form-select"
                name="TIPODOCUMENTO" required>
                <option value="31">Guía de Remisión - Transportista</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width:
              160px;"><a style="color: red;">(*)</a>
              Descripción:</label>
            <div class="col-sm-9">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid':
                empresa.submitted&&empresa.controls['DESCRIPCION'].errors}"
                name="DESCRIPCION"
                placeholder="Ingrese su descripción" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width:
              160px;"><a style="color: red;">(*)</a>
              Serie:</label>
            <div class="col-sm-3">
              <input type="text" ngModel class="form-control"
                [ngClass]="{'is-invalid':
                empresa.submitted&&empresa.controls['SERIE'].errors}" name="SERIE"
                placeholder="Ejemplo T001" maxlength="4" minlength="4" required>
            </div>
            <label for="input" class="col-sm-2 col-form-label" style="width:
              160px;"><a style="color: red;">(*)</a>
              Correlativo:</label>
            <div class="col-sm-3">
              <input type="text" ngModel class="form-control"
                [(ngModel)]="correlativo"
                [ngClass]="{'is-invalid':
                empresa.submitted&&empresa.controls['CORRELATIVO'].errors}"
                name="CORRELATIVO"
                placeholder="Ingrese el correlativo" required>
            </div>
          </div>
        </form>
        <div class="row mt-2">
          <div style="text-align: right;">
            <button class="btn btn-danger" style="width: 80px;margin-right: 5px;"
              (click)='salir()'>Salir</button>
            <button class="btn btn-success" style="width: 90px;" form="empresa"
              type="submit">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #Destinatario>
    <div class="card">
      <div class="card-header text-center">
        <h5>DESTINATARIO</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 150px;">DESTINATARIO</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" [(ngModel)]="filterDestinatario" name="filterDestinatario" class="form-control">
              <div class="input-group-append">
                <button class="input-group-text" (click)="abrirModal(CrudDestinatario)">+</button>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">N° Doc</th>
                <th scope="col">Tipo Doc</th>
                <th scope="col">Razon social</th>
                <th scope="col">Direccion</th>
                <th scope="col">Edit</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of destinatarios| filter:filterDestinatario:['numerodocumentoadquiriente','razonsocialadquiriente']">
                <th scope="row" style="cursor: pointer;"
                  (click)="asignarDestinatario(item)">
                  {{item.numerodocumentoadquiriente}}</th>
                <td style="cursor: pointer;"
                  (click)="asignarDestinatario(item)">
                  {{item.tipodocumentoadquiriente}}</td>
                <td style="cursor: pointer;"
                  (click)="asignarDestinatario(item)">
                  {{item.razonsocialadquiriente}}</td>
                <td style="cursor: pointer;"
                  (click)="asignarDestinatario(item)">
                  {{item.direccionadquiriente}}</td>
                <td style="text-align: center;cursor: pointer;" (click)="EditarDestinatario(UpdateDestinatario,item)"><i
                    class="fa-solid fa-user-pen" style="font-size: 20px;color: rgb(25, 0, 255);"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #CrudDestinatario>
  <div class="card">
    <div class="card-header">
      <h5>Registrar Destinatario</h5>
    </div>
    <div class="card-body">
      <form (ngSubmit)="crearAdquiriente(f)" #f="ngForm" id="destinatario">
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> N°
            Doc:</label>
          <div class="col-sm-3">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['numerodocumentoadquiriente'].errors}"
              name="numerodocumentoadquiriente" placeholder="Ingrese el numero de documento adquiriente" required>
          </div>
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> Tipo
            Doc:</label>
          <div class="col-sm-3">
            <select ngModel [(ngModel)]="tipodocForm" class="form-select" name="tipodocumentoadquiriente" required>
              <option value="1">DNI</option>
              <option value="4">CARNET DE EXTRANJERIA</option>
              <option value="6">RUC</option>
              <option value="7">PASAPORTE</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> Razon
            Social:</label>
          <div class="col-sm-9">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['razonsocialadquiriente'].errors}"
              name="razonsocialadquiriente" placeholder="Ingrese la razón social" required>
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"> correo:</label>
          <div class="col-sm-9">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['correo'].errors}" name="correo"
              placeholder="Ingrese el correo">
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
            Dirección:</label>
          <div class="col-sm-9">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['direccionadquiriente'].errors}"
              name="direccionadquiriente" placeholder="Ingrese la dirección" required>
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
            Ubigeo:</label>
          <div class="col-sm-3">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['ubigeoadquiriente'].errors}" name="ubigeoadquiriente"
              placeholder="Ingrese el ubigeo" required>
          </div>
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
            Distrito:</label>
          <div class="col-sm-3">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['distritoadquiriente'].errors}"
              name="distritoadquiriente" placeholder="Ingrese el distrito">
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
            Provincia:</label>
          <div class="col-sm-3">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['provinciaadquiriente'].errors}"
              name="provinciaadquiriente" placeholder="Ingrese la provincia">
          </div>
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
            Departamento:</label>
          <div class="col-sm-3">
            <input type="text" ngModel class="form-control"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['departamentoadquiriente'].errors}"
              name="departamentoadquiriente" placeholder="Ingrese el departamento">
          </div>
        </div>
        <div class="form-group row" hidden>
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
            Pais:</label>
          <div class="col-sm-9">
            <input type="text" readonly ngModel class="form-control" [(ngModel)]="pais"
              [ngClass]="{'is-invalid': f.submitted&&f.controls['PAISADQUIRIENTE'].errors}" name="PAISADQUIRIENTE"
              placeholder="Ingrese el Pais" required>
          </div>
        </div>
        <hr>
        <span><b>Destino</b></span>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
            Ubigeo:</label>
          <div class="col-sm-9">
            <input type="text" [(ngModel)]="ubigeoDestino" name="ubigeodestino" ngModel class="form-control">
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
            Dirección:</label>
          <div class="col-sm-9">
            <input type="text" [(ngModel)]="direccionDestino" name="direcciondestino" class="form-control">
          </div>
        </div>
        <div class="form-group row">
          <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
            Local anexo:</label>
          <div class="col-sm-9">
            <input type="text" [(ngModel)]="codigolocalanexo" name="codiglocalanexo" class="form-control">
          </div>
        </div>
      </form>

      <button class="btn btn-success" (click)="crearFilas()">Agregar Destino</button>
      <div class="table table-responsive" *ngIf="destinos.length!=0" style="max-height: 200px;">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Ubigeo</th>
              <th scope="col">Dirección</th>
              <th scope="col">opt</th>
            </tr>
          </thead>
          <tbody id="tabla_destino">
            <tr *ngFor="let item of destinos">
              <th scope="row">{{item.ubigeodestino}}</th>
              <td>{{item.direcciondestino}}</td>
              <td><i class="fa-solid fa-trash" style="color: red;cursor: pointer;"
                  (click)="borrarDestinoArray(item.id)"></i></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="row mt-5">
        <div style="text-align: right;">
          <button class="btn btn-danger" style="width: 80px;margin-right: 5px;" (click)='salir()'>Salir</button>
          <button class="btn btn-success" style="width: 90px;" form="destinatario" type="submit">Aceptar</button>
        </div>
      </div>
    </div>
  </div>
  </ng-template>
  <ng-template #UpdateDestinatario>
    <div class="card">
      <div class="card-header">
        <h5>Update Destinatario</h5>
      </div>
      <div class="card-body">
        <form (ngSubmit)="updateAdquiriente(f)" #f="ngForm" id="destinatario">
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> N°
              Doc:</label>
            <div class="col-sm-3">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.numerodocumentoadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['numerodocumentoadquiriente'].errors}"
                name="numerodocumentoadquiriente" placeholder="Ingrese el numero de documento adquiriente" required>
            </div>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> Tipo
              Doc:</label>
            <div class="col-sm-3">
              <select ngModel [(ngModel)]="destinatarioObject.tipodocumentoadquiriente" class="form-select"
                name="tipodocumentoadquiriente" required>
                <option value="1">DNI</option>
                <option value="4">CARNET DE EXTRANJERIA</option>
                <option value="6">RUC</option>
                <option value="7">PASAPORTE</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a> Razon
              Social:</label>
            <div class="col-sm-9">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.razonsocialadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['razonsocialadquiriente'].errors}"
                name="razonsocialadquiriente" placeholder="Ingrese la razón social" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"> correo:</label>
            <div class="col-sm-9">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.correo" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['correo'].errors}" name="correo"
                placeholder="Ingrese el correo">
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Dirección:</label>
            <div class="col-sm-9">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.direccionadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['direccionadquiriente'].errors}"
                name="direccionadquiriente" placeholder="Ingrese la dirección" required>
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Ubigeo:</label>
            <div class="col-sm-3">
              <input type="text" [(ngModel)]="destinatarioObject.ubigeoadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['ubigeoadquiriente'].errors}" name="ubigeoadquiriente"
                placeholder="Ingrese el ubigeo" [maxLength]="6"  required>
            </div>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
              Distrito:</label>
            <div class="col-sm-3">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.distritoadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['distritoadquiriente'].errors}"
                name="distritoadquiriente" placeholder="Ingrese el distrito">
            </div>
          </div>

          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
              Provincia:</label>
            <div class="col-sm-3">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.provinciaadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['provinciaadquiriente'].errors}"
                name="provinciaadquiriente" placeholder="Ingrese la provincia">
            </div>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
              Departamento:</label>
            <div class="col-sm-3">
              <input type="text" ngModel [(ngModel)]="destinatarioObject.departamentoadquiriente" class="form-control"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['departamentoadquiriente'].errors}"
                name="departamentoadquiriente" placeholder="Ingrese el departamento">
            </div>
          </div>
          <div class="form-group row" hidden>
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Pais:</label>
            <div class="col-sm-9">
              <input type="text" readonly ngModel [(ngModel)]="pais" class="form-control" [(ngModel)]="pais"
                [ngClass]="{'is-invalid': f.submitted&&f.controls['PAISADQUIRIENTE'].errors}" name="PAISADQUIRIENTE"
                placeholder="Ingrese el Pais">
            </div>
          </div>
          <hr>
          <span><b>Destino</b></span>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Ubigeo:</label>
            <div class="col-sm-9">
              <input type="text" [(ngModel)]="ubigeoDestinoUpdate" [maxlength]="6" name="ubigeodestinoupdate" class="form-control">
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;"><a style="color: red;">(*)</a>
              Dirección:</label>
            <div class="col-sm-9">
              <input type="text" [(ngModel)]="direccionDestinoUpdate" name="direccionDestinoUpdate" class="form-control">
            </div>
          </div>
          <div class="form-group row">
            <label for="input" class="col-sm-2 col-form-label" style="width: 160px;">
              Local Anexo:</label>
            <div class="col-sm-9">
              <input type="text" maxlength="4" [(ngModel)]="codigolocalanexoUpdate" name="codigolocalanexoUpdate" class="form-control">
            </div>
          </div>
        </form>

        <button class="btn btn-success" (click)="crearFilasUpdate()">Agregar Destino</button>
        <div class="table table-responsive" *ngIf="destinatarioObject.destinos.length!=0" style="max-height: 200px;">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col">Ubigeo</th>
                <th scope="col">Dirección</th>
                <th scope="col">Cod. local Anexo</th>
                <th scope="col">opt</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of destinatarioObject.destinos">
                <th scope="row">{{item.ubigeodestino}}</th>
                <td>{{item.direcciondestino}}</td>
                <td>{{item.codigolocalanexo}}</td>
                <td><i class="fa-solid fa-trash" style="color: red;cursor: pointer;"
                    (click)="borrarDestinoArrayUpdate(item.id)"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="row mt-5">
          <div style="text-align: right;">
            <button class="btn btn-danger" style="width: 80px;margin-right: 5px;" (click)='salir()'>Salir</button>
            <button class="btn btn-success" style="width: 90px;" form="destinatario" type="submit">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #Origen>
    <div class="card">
      <div class="card-header">
        <div class="container">
          <h5>PTO SALIDA &nbsp; &nbsp;</h5>
        </div>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">PTO SALIDA</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3 ">
            <div class="input-group mb-1">
              <input type="text" [(ngModel)]="filterOrigen" name="filterOrigen" class="form-control">
              <div class="input-group-append">
                <button class="btn btn-secondary" (click)="abrirModal(CrudOrigen)">+</button>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">N° Doc Emisor</th>
                <th scope="col">Ubigeo</th>
                <th scope="col">Dirección</th>
                <th scope="col" style="text-align: center;">Opt</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of tablaOrigenes|filter:filterOrigen:['numerodocumentoemisor','ubigeoorigen','direccionorigen']">
                <th scope="row" (click)="asignarOrigen(item)" style="cursor: pointer;">{{item.numerodocumentoemisor}}</th>
                <td (click)="asignarOrigen(item)" style="cursor: pointer;">{{item.ubigeoorigen}}</td>
                <td (click)="asignarOrigen(item)" style="cursor: pointer;">{{item.direccionorigen}}</td>
                <td style="text-align: center;cursor: pointer;"
                  (click)="borrarOrigen(item);"><i
                    class="fa-solid fa-trash" style="font-size: 20px;color: rgb(255, 0, 0);"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #Destino>
    <div class="card">
      <div class="card-header">
        <div class="container">
          <h5>PTO LLEGADA &nbsp; &nbsp;</h5>
        </div>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">PTO LLEGADA</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" name="filterDestino" [(ngModel)]="filterDestino" class="form-control">
              <!-- <div class="input-group-append">
                <button class="btn btn-secondary" (click)="abrirModal(CrudOrigen)">+</button>
              </div> -->
            </div>
          </div>
        </div>
        <div class="table-responsive" style="height: 400px;">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">N° Doc Emisor</th>
                <th scope="col">Ubigeo</th>
                <th scope="col">Dirección</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of destinos|filter:filterDestino:['numerodocumentoadquiriente','ubigeodestino','direcciondestino']">
                <th scope="row" (click)="asignarDestino(item)" style="cursor: pointer;">{{item.numerodocumentoadquiriente}}</th>
                <td (click)="asignarDestino(item)" style="cursor: pointer;">{{item.ubigeodestino}}</td>
                <td (click)="asignarDestino(item)" style="cursor: pointer;">{{item.direcciondestino}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template #Opcionales>
    <div class="card">
      <div class="card-header">
        <div class="container">
          <h5>Campos Opcionales &nbsp; &nbsp;</h5>
        </div>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">TIPO:</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" name="filterDestino" [(ngModel)]="camposOpcionales.tipo" class="form-control">
            </div>
          </div>
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">ALMACEN:</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" name="filterDestino" [(ngModel)]="camposOpcionales.almacen" class="form-control">
            </div>
          </div>
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">REFERENCIA:</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" name="filterDestino" [(ngModel)]="camposOpcionales.referencia" class="form-control">
            </div>
          </div>
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">SERVICIO:</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" name="filterDestino" [(ngModel)]="camposOpcionales.servicio" class="form-control">
            </div>
          </div>
          <div class="col-12 col-sm-4 col-md-3 mb-3 d-flex  align-items-center">
            <label style="width: 100%;">TICKET:</label>
          </div>
          <div class="col-12 col-sm-8 col-md-9 mb-3">
            <div class="input-group mb-1">
              <input type="text" name="filterDestino" [(ngModel)]="camposOpcionales.ticket" class="form-control">
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer" style="text-align: right;">
        <button class="btn btn-danger me-2" style="width: 120px;">
            Salir
        </button>
        <button class="btn btn-success" style="width: 120px;">
            Aceptar
        </button>
      </div>
    </div>
  </ng-template>
